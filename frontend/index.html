<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UPI Fraud Detection</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background-glow"></div>

    <div class="container">
        <header>
            <div class="logo">üõ°Ô∏è SecureUPI</div>
            <h1>Fraud Analysis System</h1>
            <p>Advanced AI-powered real-time transaction monitoring</p>
        </header>

        <main>
            <div class="glass-card form-section">
                <!-- Toggle Buttons -->
                <div class="toggle-container">
                    <button id="showSingleBtn" class="toggle-btn">Single Check</button>
                    <button id="showBatchBtn" class="toggle-btn active">Batch Upload</button>
                </div>

                <!-- Single Transaction Form -->
                <form id="fraudForm" class="hidden">
                    <h2>Analyze Single Transaction</h2>

                    <div class="row">
                        <div class="input-group">
                            <label for="transaction_type">Type</label>
                            <select id="transaction_type" required>
                                <option value="Payment">Payment</option>
                                <option value="Transfer">Transfer</option>
                                <option value="Cash Out">Cash Out</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="amount">Amount (INR)</label>
                            <input type="number" id="amount" placeholder="5000" required>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="merchant_category">Merchant Category</label>
                        <select id="merchant_category" required>
                            <option value="Groceries">Groceries</option>
                            <option value="Electronics">Electronics</option>
                            <option value="Utilities">Utilities</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Dining">Dining</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                    <div class="row">
                        <div class="input-group">
                            <label for="sender_bank">Sender Bank</label>
                            <select id="sender_bank" required>
                                <option value="SBI">SBI</option>
                                <option value="HDFC">HDFC</option>
                                <option value="ICICI">ICICI</option>
                                <option value="Axis">Axis</option>
                                <option value="PNB">PNB</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="receiver_bank">Receiver Bank</label>
                            <select id="receiver_bank" required>
                                <option value="SBI">SBI</option>
                                <option value="HDFC">HDFC</option>
                                <option value="ICICI">ICICI</option>
                                <option value="Axis">Axis</option>
                                <option value="PNB">PNB</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-group">
                            <label for="device_type">Device</label>
                            <select id="device_type" required>
                                <option value="Android">Android</option>
                                <option value="iPhone">iPhone</option>
                                <option value="Tablet">Tablet</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="network_type">Network</label>
                            <select id="network_type" required>
                                <option value="4G">4G</option>
                                <option value="5G">5G</option>
                                <option value="WiFi">WiFi</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" id="analyzeBtn">
                        <span class="btn-text">Detect Fraud</span>
                        <div class="loader" id="loader"></div>
                    </button>
                </form>

                <!-- Batch Upload Section (Default) -->
                <div id="batchSection">
                    <h2>Upload Dataset (CSV)</h2>
                    <div class="upload-zone" id="dropZone">
                        <p>Drag & Drop CSV file here or <span class="highlight">Browse</span></p>
                        <input type="file" id="csvInput" accept=".csv" hidden>
                    </div>
                    <p class="file-info" id="fileInfo">No file selected</p>

                    <button id="uploadBtn" disabled>
                        <span class="btn-text">Analyze Dataset</span>
                        <div class="loader" id="batchLoader"></div>
                    </button>
                </div>
            </div>

            <!-- Single Result Section -->
            <div id="resultSection" class="glass-card result-section hidden">
                <div class="result-icon" id="resultIcon"></div>
                <h2 id="resultTitle">Analysis Complete</h2>
                <p id="resultMessage">Transaction score calculated successfully.</p>

                <div class="score-bar-container">
                    <div class="score-label">
                        <span>Fraud Probability</span>
                        <span id="scoreValue">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <button id="resetBtn" class="secondary-btn">Check Another</button>
            </div>

            <!-- Batch Result Table -->
            <div id="batchResultSection" class="glass-card result-section hidden"
                style="width: 100%; max-width: 800px;">
                <h2>‚ö†Ô∏è Fraud Detected</h2>
                <p id="batchSummary">Found X fraud transactions out of Y.</p>

                <div class="table-wrapper">
                    <table id="fraudTable">
                        <thead>
                            <tr>
                                <th>Transaction ID</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Sender Bank</th>
                                <th>Probability</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Rows injected here -->
                        </tbody>
                    </table>
                </div>

                <button id="resetBatchBtn" class="secondary-btn">Upload New File</button>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>